name: Test coverage agent
author: carlosdevpereira
description: An action that runs your tests, uploads the coverage report to Cloudflare and attaches the results to your PRs.
branding:
  color: white
  icon: check-circle

runs:
  using: "node20"
  main: "dist/index.js"

inputs:
  github-token:
    description: "The github token that will be used to comment the results on available pull requests."
    required: true
  cloudflare-api-token:
    description: "The API Token that will be used to upload the coverage reports to Cloudflare."
    required: true
  cloudflare-account-id:
    description: "The Account ID that will be used to upload the coverage reports to Cloudflare."
    required: true
  cloudflare-project-name:
    description: "The name of the Cloudflare Pages project where the coverage reports will be uploaded to."
    required: true
  test-command:
    description: "The command that will be executed to run the tests and generate the coverage report."
    required: true
  coverage-location:
    description: "The location of the coverage report that will be uploaded to Cloudflare."
    required: true
  base-coverage-branch:
    description: "The base branch that will be used to compare the coverage report with."
    required: true
